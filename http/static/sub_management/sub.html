<div class="sub">
    <div class="textSize4 textBold600 pull-left">Subtitle Management</div><help src="static/sub_management/subHelp.html"></help>
    <div class="pushTopTrivial">This is an unofficial manager for subtitles.</div>
    <div>Usage at your own risk!</div> 
    <div class="pushTopMinor">To get started, select one of your Libraries or click on the "?" for additional help</div>

    <content-loading ng-if="webtoolsModel.subLoading" class="pushTopMinor"></content-loading>
    <div ng-if="!webtoolsModel.subLoading" class="pushTopMinor">
        <div class="row rowShow" ng-repeat="show in subModel.shows track by show.key | orderBy : 'title'" ng-class="{'expanded': show.expanded}">
            <div class="col-sm-12 lineShow">
                <div class="type" ng-click="expandShow(show)"><img ng-src="icons/{[{show.type}]}.png" /></div>
                <div class="title textSize3 textBold600" ng-click="expandShow(show)">{[{show.title}]}</div>
                <div class="contentShow" ng-if="show.expanded">
                    <div ng-if="show.type === 'movie'"> 
                        <div class="row" ng-class="{'pushTopNormal': !$first}" ng-repeat="detail in show.details track by detail.key | orderBy : 'title'" ng-init="detail.subAllChecked = false;detail.loading = false;">
                            <div class="col-sm-12 detail">            
                                <content-loading ng-if="detail.loading"></content-loading>
                                <div ng-if="!detail.loading" sub-details></div>
                            </div>
                        </div>
                        <content-loading ng-if="show.loading"></content-loading>
                        <div ng-if="!show.full && !show.loading" ng-click="loadmore(show)" class="loadmore textSize3"><span class="fa fa-tasks"></span> Load more</div>
                    </div>
                    <div ng-if="!show.loading && show.type === 'show'">
                        <div class="tvshow" 
                             ng-if="!subModel.selectedTvShow" 
                             ng-click="expandTvShow(tvshow)" 
                             ng-repeat="tvshow in show.tvshows track by tvshow.key | orderBy : 'title'">
                            {[{tvshow.title}]}
                        </div>
                        <content-loading ng-if="(subModel.selectedTvShow && subModel.selectedTvShow.loading) || (subModel.selectedSeason && subModel.selectedSeason.loading)"></content-loading>
                        <div class="tvshowheader textSize3 textBold600">
                            <div ng-if="subModel.selectedTvShow && !subModel.selectedTvShow.loading && !subModel.selectedSeason">
                                <div ng-click="subModel.selectedTvShow = null"><i class="fa fa-long-arrow-left" aria-hidden="true"></i> {[{subModel.selectedTvShow.title}]} </div>
                            </div>
                            <div ng-if="subModel.selectedTvShow && !subModel.selectedTvShow.loading && subModel.selectedSeason && !subModel.selectedSeason.loading">
                                <div ng-click="subModel.selectedSeason = null"><i class="fa fa-long-arrow-left" aria-hidden="true"></i> {[{subModel.selectedTvShow.title}]} : {[{subModel.selectedSeason.title}]} </div>
                            </div>
                        </div>
                        <div class="tvshow" 
                             ng-if="subModel.selectedTvShow && !subModel.selectedTvShow.loading && !subModel.selectedSeason" 
                             ng-click="expandTvShowSeason(season)" 
                             ng-repeat="season in subModel.selectedTvShow.seasons track by season.key | orderBy : 'title'">
                             {[{season.title}]}
                        </div>
                        <div class="row" 
                             ng-class="{'pushTopNormal': !$first}" 
                             ng-repeat="detail in subModel.selectedSeason.details track by detail.key | orderBy : 'title'" 
                             ng-init="detail.subAllChecked = false;detail.loading = false;" 
                             ng-if="subModel.selectedTvShow && !subModel.selectedTvShow.loading && subModel.selectedSeason && !subModel.selectedSeason.loading">
                            <div class="col-sm-12 detail">
                                <content-loading ng-if="detail.loading"></content-loading>
                                <div ng-if="!detail.loading" sub-details></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>